<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>JS Piano</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
    
</head>
<body>
  <div class = "container">
    <div class="keys">
        <div data-key="83" class="key">
            <kbd> S </kbd>
            <span class="sound">Doh</span>
        </div>
        
        <div data-key="68" class="key">
            <kbd> D </kbd>
            <span class="sound">Ray</span>
        </div>
        
        <div data-key="70" class="key">
            <kbd> F </kbd>
            <span class="sound">Mi</span>
        </div>
        
        <div data-key="71" class="key">
            <kbd> G </kbd>
            <span class="sound">Fah</span>
        </div>

        <div data-key="72" class="key">
            <kbd> H </kbd>
            <span class="sound"> Soh </span>
        </div>
        
        <div data-key="74" class="key">
            <kbd> J </kbd>
            <span class="sound"> Lah </span>
        </div>
        
        <div data-key="75" class="key">
            <kbd> K </kbd>
            <span class="sound"> Tih </span>
        </div>
        
        <div data-key="76" class="key">
            <kbd> L </kbd>
            <span class="sound">Doh</span>
        </div>
        
    </div>
   
  
     <audio data-key="83" src = "C5.mp3"></audio>
    <audio data-key="68" src = "D5.mp3"></audio>
    <audio data-key="70" src = "E5.mp3"></audio>
    <audio data-key="71" src = "F5.mp3"></audio>
    <audio data-key="72" src = "G5.mp3"></audio>
    <audio data-key="74" src = "A5.mp3"></audio>
    <audio data-key="75" src = "B5.mp3"></audio>
    <audio data-key="76" src = "C6.mp3"></audio>

    <script>
       
        function playSound(e){
            
           //use attribute selector to select data-key from audio element (es6)
            const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
            const key =  document.querySelector(`.key[data-key="${e.keyCode}"]`);
            //stop function from running keys that are not selected
            if (!audio) return;
            //rewind audio duration to the start everytime a key is hit
            audio.currentTime = 0;
            audio.play();
            //same thing as key.addClass in Jquery
            //'playing' is one of the style.css selectors
            key.classList.add('playing');
        
        }

        function removeTransition(e){
            //skip if it's not a transform
            if(e.propertyName !== 'transform') return;
            this.classList.remove('playing');
        }
        const keys = document.querySelectorAll('.key');
        keys.forEach(key => key.addEventListener('transitionend', removeTransition));
       
         //listen to keycodes
         window.addEventListener('keydown',playSound );
        
     </script>
  
      
    <footer class="footer"> This JSPiano Kit was built by <a href="github.com/Umoren">Umoren Samuel</a> <span class="span"> <i> and inspired by Wes Bos JSDrum kit</i></span></footer>
  </div>
  
</body>
</html>
